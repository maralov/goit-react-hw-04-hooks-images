{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/App/App.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","components/Modal/Modal.jsx","components/App/App.jsx","components/utils/apiService.js","components/utils/constants.js","index.js"],"names":["module","exports","Searchbar","onSubmit","useState","image","setImage","clearForm","className","s","root","form","e","preventDefault","trim","toast","warning","position","autoClose","type","button","buttonLabel","value","onChange","target","toLowerCase","input","autoComplete","autoFocus","placeholder","ImageGalleryItem","onClick","img","webformatURL","tags","id","src","alt","ImageGallery","searchQuery","map","i","Button","text","defaultProps","propType","PropTypes","func","Loader","color","height","width","Modal","onClose","onEscapeClick","useCallback","code","useEffect","window","addEventListener","removeEventListener","overlay","currentTarget","modal","App","searchImage","setSearchImage","page","setPage","loading","setLoading","error","setError","showModal","setShowModal","largeImage","setLargeImage","carrentPage","fetch","then","response","ok","json","Promise","reject","Error","state","data","total","prevImages","hits","scrollTo","top","document","documentElement","scrollHeight","behavior","catch","finally","index","largeImageURL","length","prevPage","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","newestOnTop","rtl","pauseOnFocusLoss","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.62a2b00f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"ImageGalleryItem_root__Mtqyw\",\"image\":\"ImageGalleryItem_image__2xsbt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2GjdW\",\"root\":\"Modal_root__3qDQt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"ImageGallery_root__2X-Wk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Button_root__2bb-J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Loader_root__2xEwR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"App_root__1Jh3p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Searchbar_root__1JDrA\",\"form\":\"Searchbar_form__XuKjc\",\"button\":\"Searchbar_button__MhnaU\",\"buttonLabel\":\"Searchbar_buttonLabel__1ARrf\",\"input\":\"Searchbar_input__2C4aO\"};","import React, { useState } from 'react';\nimport { toast } from 'react-toastify';\n\nimport s from './Searchbar.module.css';\n\nexport default function Searchbar({ onSubmit }) {\n  const [image, setImage] = useState('');\n\n  const handleChange = ({ target }) => {\n    const value = target.value.toLowerCase();\n    setImage(value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (image.trim() === '') {\n      toast.warning('Tap some word for searching!', {\n        position: 'bottom-center',\n        autoClose: 4000,\n      });\n      return;\n    }\n    onSubmit(image);\n    clearForm();\n  };\n\n  const clearForm = () => {\n    setImage('');\n  };\n\n  return (\n    <header className={s.root}>\n      <form className={s.form} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={s.button}>\n          <span className={s.buttonLabel}>Search</span>\n        </button>\n\n        <input\n          value={image}\n          onChange={handleChange}\n          className={s.input}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    </header>\n  );\n}\n","import React from 'react';\n\nimport s from './ImageGalleryItem.module.css';\n\nexport default function ImageGalleryItem({ onClick, img }) {\n  const { webformatURL, tags, id } = img;\n  return (\n    <li className={s.root}>\n      <img\n        src={webformatURL}\n        alt={tags}\n        id={id}\n        className={s.image}\n        onClick={onClick}\n      />\n    </li>\n  );\n}\n","import React from 'react';\n\nimport ImageGalleryItem from 'components/ImageGalleryItem';\n\nimport s from './ImageGallery.module.css';\n\nexport default function ImageGallery({ searchQuery, onClick }) {\n  return (\n    <ul className={s.root}>\n      {searchQuery &&\n        searchQuery.map((img, i) => (\n          <ImageGalleryItem key={img.id} img={img} onClick={() => onClick(i)} />\n        ))}\n    </ul>\n  );\n}\n","import PropTypes from 'prop-types';\n\nimport s from './Button.module.css';\nexport default function Button({ text, onClick }) {\n  return (\n    <button className={s.root} type=\"button\" onClick={onClick}>\n      {text}\n    </button>\n  );\n}\n\nButton.defaultProps = {\n  onClick: () => null,\n};\nButton.propType = {\n  onClick: PropTypes.func,\n};\n","import React from 'react';\nimport SpinnerLoader from 'react-loader-spinner';\nimport s from './Loader.module.css';\n\nexport default function Loader() {\n  return (\n    <div className={s.root}>\n      <SpinnerLoader\n        type=\"Bars\"\n        color=\"#ffffff\"\n        height={80}\n        width={80}\n        // timeout={3000}\n      />\n    </div>\n  );\n}\n","import React, { useEffect, useCallback } from 'react';\nimport s from './Modal.module.css';\n\nexport default function Modal({ onClose, img }) {\n  const onImageClick = e => {\n    if (e.currentTarget === e.target) {\n      onClose();\n    }\n  };\n\n  const onEscapeClick = useCallback(\n    e => {\n      if (e.code === 'Escape') {\n        onClose();\n      }\n    },\n    [onClose],\n  );\n\n  useEffect(() => {\n    window.addEventListener('keydown', onEscapeClick);\n\n    return () => {\n      window.removeEventListener('keydown', onEscapeClick);\n    };\n  }, [onEscapeClick]);\n\n  return (\n    <div className={s.overlay} onClick={onImageClick}>\n      <div className={s.modal}>\n        <img src={img} alt=\"\" />\n      </div>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport Searchbar from 'components/Searchbar';\nimport ImageGallery from 'components/ImageGallery';\nimport Button from 'components/Button';\nimport Loader from 'components/Loader';\nimport Modal from 'components/Modal';\n\nimport s from './App.module.css';\nimport { fetchMovies } from '../utils/apiService';\n\nexport default function App() {\n  const [image, setImage] = useState([]);\n  const [searchImage, setSearchImage] = useState('');\n  const [page, setPage] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [largeImage, setLargeImage] = useState('');\n\n  useEffect(() => {\n    if (searchImage === '') return;\n\n    setLoading(true);\n\n    fetchMovies(searchImage, page)\n      .then(data => {\n        if (!data.total) setError(true);\n\n        setError(false);\n        setImage(prevImages => [...prevImages, ...data.hits]);\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      })\n      .catch(() => setError(true))\n      .finally(() => setLoading(false));\n  }, [searchImage, page]);\n\n  const onClickLoadMore = () => {\n    setPage(prevPage => prevPage + 1);\n  };\n\n  const modalShow = index => {\n    setShowModal(true);\n    setLargeImage(image[index].largeImageURL);\n  };\n\n  const modalHide = () => {\n    setShowModal(false);\n  };\n\n  const onFormSubmit = img => {\n    setSearchImage(img);\n    setPage(1);\n    setImage([]);\n    setError(false);\n  };\n\n  const notify = () => {\n    toast.error('🦄 Wow so easy!', {\n      position: 'top-right',\n      autoClose: 3000,\n      hideProgressBar: true,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined,\n    });\n  };\n\n  return (\n    <div className={s.root}>\n      <Searchbar onSubmit={onFormSubmit} />\n      <ImageGallery searchQuery={image} onClick={modalShow} />\n\n      {image.length !== 0 && (\n        <Button text=\"Load more\" onClick={onClickLoadMore} />\n      )}\n\n      {error && notify()}\n      {loading && <Loader />}\n      {showModal && <Modal onClose={modalHide} img={largeImage} />}\n\n      <ToastContainer\n        position=\"top-right\"\n        autoClose={false}\n        newestOnTop={false}\n        closeOnClick\n        rtl={false}\n        pauseOnFocusLoss\n        draggable\n      />\n    </div>\n  );\n}\n","import { API_KEY, BASE_API_URL } from './constants';\n\nexport const fetchMovies = (searchQuery, carrentPage) => {\n  return fetch(\n    `${BASE_API_URL}?q=${searchQuery}&page=${carrentPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=8`,\n  )\n    .then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n      return Promise.reject(\n        new Error(`Word ${this.state.searchImage} is not exist`),\n      );\n    })\n}\n","export const BASE_API_URL = 'https://pixabay.com/api/';\nexport const API_KEY = '21802653-5c558d298eb91101dd530c9b2';\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport 'react-toastify/dist/ReactToastify.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}